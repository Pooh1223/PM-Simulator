{"remainingRequest":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\Code\\Web\\Project\\precious_memories1\\src\\components\\HandArea.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\src\\components\\HandArea.vue","mtime":1628050642853},{"path":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Code\\Web\\Project\\precious_memories1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzcyc7CmltcG9ydCAnYm9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzJzsKCmNvbnN0IG1lc3NhZ2UgPSBbIjEiLCAiMiIsICIzIiwgIjQiLCAiNSIsICI2IiwgIjciLCAiOCJdOwp2YXIgc3RhcnRUaW1lICwgZW5kVGltZTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaGFuZC1hcmVhIiwKICBkaXNwbGF5OiAiaGFuZC1hcmVhIiwKICBvcmRlcjogNiwKICBjb21wb25lbnRzOiB7CiAgICBkcmFnZ2FibGUsCiAgfSwKICBkYXRhKCkgewogICAgY29uc3Qgcm93b2ZjYXJkID0gNTsKICAgIGNvbnN0IG1hcHBlZF9saXN0ID0gbWVzc2FnZS5tYXAoKG5hbWUsIGluZGV4KSA9PiB7CiAgICAgIHJldHVybiB7IG5hbWUsIG9yZGVyOiBpbmRleCArIDEgfTsKICAgIH0pOwoKICAgIHJldHVybiB7CiAgICAgIHJvd19vZl9jYXJkOiByb3dvZmNhcmQsCiAgICAgIGNhcmRfbGlzdDogbWFwcGVkX2xpc3QsCiAgICAgIGRyYWc6IGZhbHNlLAogICAgICB0ZXh0OiAiSSBhbSBwb3BvdmVyIDxiPmNvbXBvbmVudDwvYj4gY29udGVudCEiLAogICAgICBtb2RhbERhdGE6IG51bGwsCiAgICAgIGxhc3RQbGFjZTogbnVsbCwKICAgICAgbGFzdFBsYWNlSWQ6IDAsCiAgICAgIHRpbWVyOiBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmxhc3RQbGFjZSA9IG51bGw7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImtpbGwgbGFzdCBwbGFjZSIpOwogICAgICAgICAgICB9LDUwKSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvcGVuTW9kYWwoZGF0YSkgewogICAgICBjb25zb2xlLmxvZygiaml6ejoiICsgZGF0YSk7CiAgICAgIHRoaXMubW9kYWxEYXRhID0gZGF0YTsKICAgIH0sCiAgICBkcm9wQXJlYShwbGFjZSl7CiAgICAgIGNvbnNvbGUubG9nKCJtb3ZlIik7CiAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTsKCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKCiAgICAgIHRoaXMubGFzdFBsYWNlID0gcGxhY2UudG8uZ2V0QXR0cmlidXRlKCJpZCIpOwogICAgICAKICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMubGFzdFBsYWNlID0gbnVsbDsKICAgICAgICBjb25zb2xlLmxvZygia2lsbCBsYXN0IHBsYWNlIik7CiAgICAgIH0sNTApOwoKICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsKCiAgICAgIGlmKHBsYWNlLnRvLmdldEF0dHJpYnV0ZSgiaWQiKSA9PSAiZGVja3MiKXsKCiAgICAgICAgdGhpcy5sYXN0UGxhY2VJZCA9IHBsYWNlLmRyYWdnZWRDb250ZXh0LmluZGV4OwogICAgICAgIHRoaXMuZHJhZ0NhcmQgPSBwbGFjZS5kcmFnZ2VkQ29udGV4dC5lbGVtZW50OwogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIH0gZWxzZSBpZihwbGFjZS50by5nZXRBdHRyaWJ1dGUoImlkIikgPT0gImRpc2NhcmRzIil7CgogICAgICAgIHRoaXMubGFzdFBsYWNlSWQgPSBwbGFjZS5kcmFnZ2VkQ29udGV4dC5pbmRleDsKICAgICAgICB0aGlzLmRyYWdDYXJkID0gcGxhY2UuZHJhZ2dlZENvbnRleHQuZWxlbWVudDsKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICB9IGVsc2UgaWYocGxhY2UudG8uZ2V0QXR0cmlidXRlKCJpZCIpID09ICJleC1kZWNrcyIpewoKICAgICAgICB0aGlzLmxhc3RQbGFjZUlkID0gcGxhY2UuZHJhZ2dlZENvbnRleHQuaW5kZXg7CiAgICAgICAgdGhpcy5kcmFnQ2FyZCA9IHBsYWNlLmRyYWdnZWRDb250ZXh0LmVsZW1lbnQ7CiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgfSBlbHNlIGlmKHBsYWNlLnRvLmdldEF0dHJpYnV0ZSgiaWQiKSA9PSAiZXhjbHVkZWRzIil7CgogICAgICAgIHRoaXMubGFzdFBsYWNlSWQgPSBwbGFjZS5kcmFnZ2VkQ29udGV4dC5pbmRleDsKICAgICAgICB0aGlzLmRyYWdDYXJkID0gcGxhY2UuZHJhZ2dlZENvbnRleHQuZWxlbWVudDsKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICB9IGVsc2UgaWYocGxhY2UudG8uZ2V0QXR0cmlidXRlKCJpZCIpID09ICJoYW5kcyIpewoKICAgICAgICB0aGlzLmxhc3RQbGFjZUlkID0gcGxhY2UuZHJhZ2dlZENvbnRleHQuaW5kZXg7CiAgICAgICAgdGhpcy5kcmFnQ2FyZCA9IHBsYWNlLmRyYWdnZWRDb250ZXh0LmVsZW1lbnQ7CiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgZHJvcChkYXRhKSB7CiAgICAgIHRoaXMuZHJhZyA9IGZhbHNlOwogICAgICBsZXQgZHJvcENhcmQgPSB0aGlzLmRyYWdDYXJkOwogICAgICBsZXQgcGxhY2UgPSB0aGlzLmxhc3RQbGFjZTsKICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKCk7CgogICAgICBjb25zb2xlLmxvZygiVGltZSBlbGFwc2U6ICIgKyBNYXRoLnJvdW5kKGVuZFRpbWUgLSBzdGFydFRpbWUpKTsKCiAgICAgIC8vIG1zIGZvciByZS1zZXQgcHJvcGVyRHJvcCAKICAgICAgbGV0IGRpc2FibGVfZmlyc3RfZHJvcCA9IDcwOwoKICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgY2FyZCBpcyBhdCB0aGUgc2FtZSBhcmVhCiAgICAgIC8vIGJ1dCBpdHMgZ2hvc3QgY2hhbmdlZCB0aGUgcG9zaXRpb24gYmVmb3JlIGl0IGRyb3AKCiAgICAgIC8vY29uc29sZS5sb2codGhpcy5jYXJkX2xpc3RbZGF0YS5uZXdEcmFnZ2FibGVJbmRleF0gPT09IGRyb3BDYXJkKTsKICAgICAgLy9pZihkYXRhLnRvID09PSBkYXRhLmZyb20gJiYgdGhpcy5jYXJkX2xpc3RbZGF0YS5uZXdEcmFnZ2FibGVJbmRleF0gPT09IGRyb3BDYXJkKXsKICAgICAgLy8gIC8vIGltcGxpZXMgdGhhdCB0aGUgZHJhZ2dlZCBjYXJkIG9ubHkgY2hhbmdlcyBpdHMgcG9zaXRpb24gaW4gdGhlIG9yaWdpbmFsIGFyZWEKICAgICAgLy8gIHRoaXMubGFzdFBsYWNlSWQgPSBkYXRhLm5ld0RyYWdnYWJsZUluZGV4OwogICAgICAvLyAgY29uc29sZS5sb2coImluIGNoYW5nZSBpZCIpOwogICAgICAvL30KCiAgICAgIGlmKHBsYWNlID09ICJkZWNrcyIpIHsKCiAgICAgICAgaWYodGhpcy5jYXJkX2xpc3RbdGhpcy5sYXN0UGxhY2VJZF0gIT0gdGhpcy5kcmFnQ2FyZCB8fCB0eXBlb2YgdGhpcy5jYXJkX2xpc3RbdGhpcy5sYXN0UGxhY2VJZF0gPT0gInVuZGVmaW5lZCIpewoKICAgICAgICAgIGRpc2FibGVfZmlyc3RfZHJvcCA9IDA7CgogICAgICAgICAgLy8gZ2hvc3QgcHJvYmFibHkgbGllIGluIHNvbWV3aGVyZSBlbHNlCgogICAgICAgICAgc3dpdGNoKGRhdGEudG8uZ2V0QXR0cmlidXRlKCJpZCIpKXsKICAgICAgICAgICAgY2FzZSAiaGFuZHMiOgogICAgICAgICAgICAgIGlmKGRhdGEudG8gPT09IGRhdGEuZnJvbSAmJiB0aGlzLmNhcmRfbGlzdFtkYXRhLm5ld0RyYWdnYWJsZUluZGV4XSA9PT0gZHJvcENhcmQpewogICAgICAgICAgICAgICAgLy8gaW1wbGllcyB0aGF0IHRoZSBkcmFnZ2VkIGNhcmQgb25seSBjaGFuZ2VzIGl0cyBwb3NpdGlvbiBpbiB0aGUgb3JpZ2luYWwgYXJlYQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQbGFjZUlkID0gZGF0YS5uZXdEcmFnZ2FibGVJbmRleDsKICAgICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWRlY2stYWdhaW4iLGRyb3BDYXJkLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CiAgICAgICAgICAgICAgICB0aGlzLmNhcmRfbGlzdC5zcGxpY2UodGhpcy5sYXN0UGxhY2VJZCwxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiBjaGFuZ2UgaWQiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIm1haW5zIjoKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImNhbmNlbC1tYWluLWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWRlY2stYWdhaW4iLHRoaXMuZHJhZ0NhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAic3VwcG9ydHMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXN1cHBvcnQtZHJvcCIsZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJhZGQtdG8tZGVjay1hZ2FpbiIsdGhpcy5kcmFnQ2FyZCxkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJwb2ludHMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXBvaW50LWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWRlY2stYWdhaW4iLHRoaXMuZHJhZ0NhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAidGVtcC1hcmVhIjoKICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IGl0IHdpbGwgYWZmZWN0IGRlY2stc3RhY2sgYXJlYSB0b28KICAgICAgICAgICAgICAvL3RoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXRlbXAtZHJvcCIsZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CgogICAgICAgICAgICAgIC8vIGFyZ3NfMTogd2hlcmUsIGFyZ3NfMjogaW5kZXgKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImNhbmNlbC1zdGFjay1kcm9wIixkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIiksZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CgogICAgICAgICAgICAgIC8vIGNhc2Ugd2hlbiB0ZW1wIGFyZWEgaXMgdGhlIHNhbWUgd2l0aCBzdGFjawogICAgICAgICAgICAgIC8vIHNpbmNlIHdlIHVzZSBvcGVuVGVtcCB0byByZWZyZXNoIHRoZSBsaXN0CiAgICAgICAgICAgICAgLy8gbmVlZCB0byBjaGVjayB3aGV0aGVyIHRoZSBhcmVhLW5hbWUgaXMgc2FtZSB3aXRoIGxhc3RQbGFjZQoKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImFkZC10by1kZWNrLWFnYWluIix0aGlzLmRyYWdDYXJkLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kIHRvIGRlY2sgZXJyb3IiKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiaGFuZC10by1kZWNrIixkcm9wQ2FyZCxkaXNhYmxlX2ZpcnN0X2Ryb3ApOwogICAgICAgIGNvbnNvbGUubG9nKCJlbWl0IGRyb3BDYXJkIHRvIGRlY2siKTsKCiAgICAgIH0gZWxzZSBpZihwbGFjZSA9PSAiZGlzY2FyZHMiKXsKCiAgICAgICAgaWYodGhpcy5jYXJkX2xpc3RbdGhpcy5sYXN0UGxhY2VJZF0gIT0gdGhpcy5kcmFnQ2FyZCB8fCB0eXBlb2YgdGhpcy5jYXJkX2xpc3RbdGhpcy5sYXN0UGxhY2VJZF0gPT0gInVuZGVmaW5lZCIpewoKICAgICAgICAgIGRpc2FibGVfZmlyc3RfZHJvcCA9IDA7CgogICAgICAgICAgLy8gZ2hvc3QgcHJvYmFibHkgbGllIGluIHNvbWV3aGVyZSBlbHNlCgogICAgICAgICAgc3dpdGNoKGRhdGEudG8uZ2V0QXR0cmlidXRlKCJpZCIpKXsKICAgICAgICAgICAgY2FzZSAiaGFuZHMiOgogICAgICAgICAgICAgIC8vdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtaGFuZC1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKCiAgICAgICAgICAgICAgLy8gc2luY2UgeW91IGNoYW5nZSB0aGUgZ2hvc3QgcG9zaXRpb24gYmVmb3JlIGRyb3AgdG8gc3RhY2sKICAgICAgICAgICAgICAvLyBpdCBtaWdodCBjYXVzZSBlcnJvciBzaW5jZSB0aGUgbGFzdFBsYWNlSWQgaXMgbm8gbG9uZ2VyIHRoZSBzYW1lCgogICAgICAgICAgICAgIGlmKGRhdGEudG8gPT09IGRhdGEuZnJvbSAmJiB0aGlzLmNhcmRfbGlzdFtkYXRhLm5ld0RyYWdnYWJsZUluZGV4XSA9PT0gZHJvcENhcmQpewogICAgICAgICAgICAgICAgLy8gaW1wbGllcyB0aGF0IHRoZSBkcmFnZ2VkIGNhcmQgb25seSBjaGFuZ2VzIGl0cyBwb3NpdGlvbiBpbiB0aGUgb3JpZ2luYWwgYXJlYQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQbGFjZUlkID0gZGF0YS5uZXdEcmFnZ2FibGVJbmRleDsKICAgICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWRpc2NhcmQtYWdhaW4iLGRyb3BDYXJkLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CiAgICAgICAgICAgICAgICB0aGlzLmNhcmRfbGlzdC5zcGxpY2UodGhpcy5sYXN0UGxhY2VJZCwxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiBjaGFuZ2UgaWQiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJtYWlucyI6CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtbWFpbi1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImFkZC10by1kaXNjYXJkLWFnYWluIixkcm9wQ2FyZCxkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJzdXBwb3J0cyI6CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtc3VwcG9ydC1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImFkZC10by1kaXNjYXJkLWFnYWluIixkcm9wQ2FyZCxkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJwb2ludHMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXBvaW50LWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWRpc2NhcmQtYWdhaW4iLGRyb3BDYXJkLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInRlbXAtYXJlYSI6CiAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBpdCB3aWxsIGFmZmVjdCBkZWNrLXN0YWNrIGFyZWEgdG9vCiAgICAgICAgICAgICAgLy90aGlzLiRidXMuJGVtaXQoImNhbmNlbC10ZW1wLWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwoKICAgICAgICAgICAgICAvLyBhcmdzXzE6IHdoZXJlLCBhcmdzXzI6IGluZGV4CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtc3RhY2stZHJvcCIsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwoKICAgICAgICAgICAgICAvLyBjYXNlIHdoZW4gdGVtcCBhcmVhIGlzIHRoZSBzYW1lIHdpdGggc3RhY2sKICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSB1c2Ugb3BlblRlbXAgdG8gcmVmcmVzaCB0aGUgbGlzdAogICAgICAgICAgICAgIC8vIG5lZWQgdG8gY2hlY2sgd2hldGhlciB0aGUgYXJlYS1uYW1lIGlzIHNhbWUgd2l0aCBsYXN0UGxhY2UKCiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJhZGQtdG8tZGlzY2FyZC1hZ2FpbiIsdGhpcy5kcmFnQ2FyZCxkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIikpOwoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZygiaGFuZCB0byBkaXNjYXJkIGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoImhhbmQtdG8tZGlzY2FyZCIsZHJvcENhcmQsZGlzYWJsZV9maXJzdF9kcm9wKTsKICAgICAgICBjb25zb2xlLmxvZygiZW1pdCBkcm9wQ2FyZCB0byBkaXNjYXJkIik7CgogICAgICB9IGVsc2UgaWYocGxhY2UgPT0gImV4LWRlY2tzIikgewoKICAgICAgICBpZih0aGlzLmNhcmRfbGlzdFt0aGlzLmxhc3RQbGFjZUlkXSAhPSB0aGlzLmRyYWdDYXJkIHx8IHR5cGVvZiB0aGlzLmNhcmRfbGlzdFt0aGlzLmxhc3RQbGFjZUlkXSA9PSAidW5kZWZpbmVkIil7CgogICAgICAgICAgZGlzYWJsZV9maXJzdF9kcm9wID0gMDsKCiAgICAgICAgICAvLyBnaG9zdCBwcm9iYWJseSBsaWUgaW4gc29tZXdoZXJlIGVsc2UKCiAgICAgICAgICBzd2l0Y2goZGF0YS50by5nZXRBdHRyaWJ1dGUoImlkIikpewogICAgICAgICAgICBjYXNlICJoYW5kcyI6CiAgICAgICAgICAgICAgaWYoZGF0YS50byA9PT0gZGF0YS5mcm9tICYmIHRoaXMuY2FyZF9saXN0W2RhdGEubmV3RHJhZ2dhYmxlSW5kZXhdID09PSBkcm9wQ2FyZCl7CiAgICAgICAgICAgICAgICAvLyBpbXBsaWVzIHRoYXQgdGhlIGRyYWdnZWQgY2FyZCBvbmx5IGNoYW5nZXMgaXRzIHBvc2l0aW9uIGluIHRoZSBvcmlnaW5hbCBhcmVhCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMubGFzdFBsYWNlSWQgPSBkYXRhLm5ld0RyYWdnYWJsZUluZGV4OwogICAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJhZGQtdG8tZXgtZGVjay1hZ2FpbiIsZHJvcENhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICAgIHRoaXMuY2FyZF9saXN0LnNwbGljZSh0aGlzLmxhc3RQbGFjZUlkLDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIGNoYW5nZSBpZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibWFpbnMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLW1haW4tZHJvcCIsZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJhZGQtdG8tZXgtZGVjay1hZ2FpbiIsZHJvcENhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAic3VwcG9ydHMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXN1cHBvcnQtZHJvcCIsZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJhZGQtdG8tZXgtZGVjay1hZ2FpbiIsZHJvcENhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicG9pbnRzIjoKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImNhbmNlbC1wb2ludC1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImFkZC10by1leC1kZWNrLWFnYWluIixkcm9wQ2FyZCxkYXRhLnRvLmdldEF0dHJpYnV0ZSgiYXJlYS1uYW1lIikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJ0ZW1wLWFyZWEiOgogICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogaXQgd2lsbCBhZmZlY3QgZGVjay1zdGFjayBhcmVhIHRvbwogICAgICAgICAgICAgIC8vdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtdGVtcC1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKCiAgICAgICAgICAgICAgLy8gYXJnc18xOiB3aGVyZSwgYXJnc18yOiBpbmRleAogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXN0YWNrLWRyb3AiLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSxkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKCiAgICAgICAgICAgICAgLy8gY2FzZSB3aGVuIHRlbXAgYXJlYSBpcyB0aGUgc2FtZSB3aXRoIHN0YWNrCiAgICAgICAgICAgICAgLy8gc2luY2Ugd2UgdXNlIG9wZW5UZW1wIHRvIHJlZnJlc2ggdGhlIGxpc3QKICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgdGhlIGFyZWEtbmFtZSBpcyBzYW1lIHdpdGggbGFzdFBsYWNlCgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWV4LWRlY2stYWdhaW4iLHRoaXMuZHJhZ0NhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coImhhbmQgdG8gZXgtZGVjayBlcnJvciIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCJoYW5kLXRvLWV4LWRlY2siLGRyb3BDYXJkLGRpc2FibGVfZmlyc3RfZHJvcCk7CiAgICAgICAgY29uc29sZS5sb2coImVtaXQgZHJvcENhcmQgdG8gZGlzY2FyZCIpOwoKICAgICAgfSBlbHNlIGlmKHBsYWNlID09ICJleGNsdWRlZHMiKSB7CgogICAgICAgIGlmKHRoaXMuY2FyZF9saXN0W3RoaXMubGFzdFBsYWNlSWRdICE9IHRoaXMuZHJhZ0NhcmQgfHwgdHlwZW9mIHRoaXMuY2FyZF9saXN0W3RoaXMubGFzdFBsYWNlSWRdID09ICJ1bmRlZmluZWQiKXsKCiAgICAgICAgICBkaXNhYmxlX2ZpcnN0X2Ryb3AgPSAwOwoKICAgICAgICAgIC8vIGdob3N0IHByb2JhYmx5IGxpZSBpbiBzb21ld2hlcmUgZWxzZQoKICAgICAgICAgIHN3aXRjaChkYXRhLnRvLmdldEF0dHJpYnV0ZSgiaWQiKSl7CiAgICAgICAgICAgIGNhc2UgImhhbmRzIjoKICAgICAgICAgICAgICBpZihkYXRhLnRvID09PSBkYXRhLmZyb20gJiYgdGhpcy5jYXJkX2xpc3RbZGF0YS5uZXdEcmFnZ2FibGVJbmRleF0gPT09IGRyb3BDYXJkKXsKICAgICAgICAgICAgICAgIC8vIGltcGxpZXMgdGhhdCB0aGUgZHJhZ2dlZCBjYXJkIG9ubHkgY2hhbmdlcyBpdHMgcG9zaXRpb24gaW4gdGhlIG9yaWdpbmFsIGFyZWEKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VJZCA9IGRhdGEubmV3RHJhZ2dhYmxlSW5kZXg7CiAgICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImFkZC10by1leGNsdWRlZC1hZ2FpbiIsZHJvcENhcmQsZGF0YS50by5nZXRBdHRyaWJ1dGUoImFyZWEtbmFtZSIpKTsKICAgICAgICAgICAgICAgIHRoaXMuY2FyZF9saXN0LnNwbGljZSh0aGlzLmxhc3RQbGFjZUlkLDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIGNoYW5nZSBpZCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAibWFpbnMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLW1haW4tZHJvcCIsZGF0YS5uZXdEcmFnZ2FibGVJbmRleCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInN1cHBvcnRzIjoKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImNhbmNlbC1zdXBwb3J0LWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJwb2ludHMiOgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXBvaW50LWRyb3AiLGRhdGEubmV3RHJhZ2dhYmxlSW5kZXgpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJ0ZW1wLWFyZWEiOgogICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogaXQgd2lsbCBhZmZlY3QgZGVjay1zdGFjayBhcmVhIHRvbwogICAgICAgICAgICAgIC8vdGhpcy4kYnVzLiRlbWl0KCJjYW5jZWwtdGVtcC1kcm9wIixkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKCiAgICAgICAgICAgICAgLy8gYXJnc18xOiB3aGVyZSwgYXJnc18yOiBpbmRleAogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiY2FuY2VsLXN0YWNrLWRyb3AiLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSxkYXRhLm5ld0RyYWdnYWJsZUluZGV4KTsKCiAgICAgICAgICAgICAgLy8gY2FzZSB3aGVuIHRlbXAgYXJlYSBpcyB0aGUgc2FtZSB3aXRoIHN0YWNrCiAgICAgICAgICAgICAgLy8gc2luY2Ugd2UgdXNlIG9wZW5UZW1wIHRvIHJlZnJlc2ggdGhlIGxpc3QKICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgdGhlIGFyZWEtbmFtZSBpcyBzYW1lIHdpdGggbGFzdFBsYWNlCgogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiYWRkLXRvLWV4Y2x1ZGVkLWFnYWluIix0aGlzLmRyYWdDYXJkLGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kIHRvIGV4Y2x1ZGVkIGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoImhhbmQtdG8tZXhjbHVkZWQiLGRyb3BDYXJkLGRpc2FibGVfZmlyc3RfZHJvcCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJ0ZXN0Iik7CiAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTsKICAgICAgY29uc29sZS5sb2codGhpcy5sYXN0UGxhY2UpOwogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgY29uc29sZS5sb2coZGF0YS50byk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEudG8uZ2V0QXR0cmlidXRlKCJhcmVhLW5hbWUiKSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEuZnJvbSk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRyYWdPcHRpb25zKCkgewogICAgICByZXR1cm4gewogICAgICAgIGFuaW1hdGlvbjogMjAwLAogICAgICAgIGdyb3VwOiAiZGVzY3JpcHRpb24iLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBnaG9zdENsYXNzOiAiZ2hvc3QiLAogICAgICB9OwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCJkcmF3LWZyb20tZGVjayIsKGRyYXduX2NhcmRfbGlzdCkgPT4gewogICAgICB0aGlzLmNhcmRfbGlzdCA9IHRoaXMuY2FyZF9saXN0LmNvbmNhdChkcmF3bl9jYXJkX2xpc3QpOwogICAgfSk7CgogICAgdGhpcy4kYnVzLiRvbigiY2hlY2stdG9wLXRvLWhhbmQiLChjYXJkKSA9PiB7CiAgICAgIHRoaXMuY2FyZF9saXN0LnB1c2goY2FyZCk7CiAgICB9KTsKCiAgICB0aGlzLiRidXMuJG9uKCJjaGVjay1ib3R0b20tdG8taGFuZCIsKGNhcmQpID0+IHsKICAgICAgdGhpcy5jYXJkX2xpc3QucHVzaChjYXJkKTsKICAgIH0pOwoKICAgIHRoaXMuJGJ1cy4kb24oImFibGUtdG8tcmVtb3ZlIiwod2hlcmUpID0+IHsKICAgICAgaWYod2hlcmUgPT0gImhhbmQiKXsKICAgICAgICBjb25zb2xlLmxvZygibGFzdFBsYWNlSWQ6ICIgKyB0aGlzLmxhc3RQbGFjZUlkKTsKICAgICAgICB0aGlzLmNhcmRfbGlzdC5zcGxpY2UodGhpcy5sYXN0UGxhY2VJZCwxKTsKICAgICAgfQogICAgfSk7CgogICAgdGhpcy4kYnVzLiRvbigiY2FuY2VsLWhhbmQtZHJvcCIsKGlkKSA9PiB7CiAgICAgIHRoaXMuY2FyZF9saXN0LnNwbGljZShpZCwxKTsKICAgICAgY29uc29sZS5sb2coImNhbmNlbCBoYW5kIGRyb3A6ICIgKyBpZCk7CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["HandArea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"HandArea.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    \n    <draggable\n      class=\"card-list\"\n      tag=\"div\"\n      v-model=\"card_list\"\n      v-bind=\"dragOptions\"\n      @start=\"drag = true\"\n      @end=\"drop\"\n      :move=\"dropArea\"\n    >\n      <transition-group\n        id=\"hands\"\n        class=\"row\"\n        type=\"transition\"\n        :name=\"!drag ? 'flip-list' : null\"\n      >\n        \n        <div\n          class=\"item col\"\n          v-for=\"(element, index) in card_list\"\n          :key=\"'ha-' + index\"\n          :class = \"index % 5 == 0 ? 'item col-2 offset-1' : 'item col-2' \"\n        >\n          <img src=\"../PM_Back.jpg\" />\n          <i\n            @click=\"element.fixed = !element.fixed\"\n            aria-hidden=\"true\"\n          >{{index}} , {{element.order}}</i>\n\n        </div>\n      </transition-group>\n    </draggable>  \n    \n  </div>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\n\nconst message = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"];\nvar startTime , endTime;\n\nexport default {\n  name: \"hand-area\",\n  display: \"hand-area\",\n  order: 6,\n  components: {\n    draggable,\n  },\n  data() {\n    const rowofcard = 5;\n    const mapped_list = message.map((name, index) => {\n      return { name, order: index + 1 };\n    });\n\n    return {\n      row_of_card: rowofcard,\n      card_list: mapped_list,\n      drag: false,\n      text: \"I am popover <b>component</b> content!\",\n      modalData: null,\n      lastPlace: null,\n      lastPlaceId: 0,\n      timer: setTimeout(() => {\n              this.lastPlace = null;\n              console.log(\"kill last place\");\n            },50),\n    };\n  },\n  methods: {\n    openModal(data) {\n      console.log(\"jizz:\" + data);\n      this.modalData = data;\n    },\n    dropArea(place){\n      console.log(\"move\");\n      console.log(place);\n\n      clearTimeout(this.timer);\n\n      this.lastPlace = place.to.getAttribute(\"id\");\n      \n      this.timer = setTimeout(() => {\n        this.lastPlace = null;\n        console.log(\"kill last place\");\n      },50);\n\n      startTime = new Date();\n\n      if(place.to.getAttribute(\"id\") == \"decks\"){\n\n        this.lastPlaceId = place.draggedContext.index;\n        this.dragCard = place.draggedContext.element;\n        return false;\n\n      } else if(place.to.getAttribute(\"id\") == \"discards\"){\n\n        this.lastPlaceId = place.draggedContext.index;\n        this.dragCard = place.draggedContext.element;\n        return false;\n\n      } else if(place.to.getAttribute(\"id\") == \"ex-decks\"){\n\n        this.lastPlaceId = place.draggedContext.index;\n        this.dragCard = place.draggedContext.element;\n        return false;\n\n      } else if(place.to.getAttribute(\"id\") == \"excludeds\"){\n\n        this.lastPlaceId = place.draggedContext.index;\n        this.dragCard = place.draggedContext.element;\n        return false;\n\n      } else if(place.to.getAttribute(\"id\") == \"hands\"){\n\n        this.lastPlaceId = place.draggedContext.index;\n        this.dragCard = place.draggedContext.element;\n        return true;\n\n      } else {\n        return true;\n      }\n    },\n    drop(data) {\n      this.drag = false;\n      let dropCard = this.dragCard;\n      let place = this.lastPlace;\n      endTime = new Date();\n\n      console.log(\"Time elapse: \" + Math.round(endTime - startTime));\n\n      // ms for re-set properDrop \n      let disable_first_drop = 70;\n\n      // check whether the card is at the same area\n      // but its ghost changed the position before it drop\n\n      //console.log(this.card_list[data.newDraggableIndex] === dropCard);\n      //if(data.to === data.from && this.card_list[data.newDraggableIndex] === dropCard){\n      //  // implies that the dragged card only changes its position in the original area\n      //  this.lastPlaceId = data.newDraggableIndex;\n      //  console.log(\"in change id\");\n      //}\n\n      if(place == \"decks\") {\n\n        if(this.card_list[this.lastPlaceId] != this.dragCard || typeof this.card_list[this.lastPlaceId] == \"undefined\"){\n\n          disable_first_drop = 0;\n\n          // ghost probably lie in somewhere else\n\n          switch(data.to.getAttribute(\"id\")){\n            case \"hands\":\n              if(data.to === data.from && this.card_list[data.newDraggableIndex] === dropCard){\n                // implies that the dragged card only changes its position in the original area\n                \n                this.lastPlaceId = data.newDraggableIndex;\n                this.$bus.$emit(\"add-to-deck-again\",dropCard,data.to.getAttribute(\"area-name\"));\n                this.card_list.splice(this.lastPlaceId,1);\n                console.log(\"in change id\");\n              }\n              break;\n            case \"mains\":\n              this.$bus.$emit(\"cancel-main-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-deck-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"supports\":\n              this.$bus.$emit(\"cancel-support-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-deck-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"points\":\n              this.$bus.$emit(\"cancel-point-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-deck-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"temp-area\":\n              // special case: it will affect deck-stack area too\n              //this.$bus.$emit(\"cancel-temp-drop\",data.newDraggableIndex);\n\n              // args_1: where, args_2: index\n              this.$bus.$emit(\"cancel-stack-drop\",data.to.getAttribute(\"area-name\"),data.newDraggableIndex);\n\n              // case when temp area is the same with stack\n              // since we use openTemp to refresh the list\n              // need to check whether the area-name is same with lastPlace\n\n              this.$bus.$emit(\"add-to-deck-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n\n              break;\n          }\n\n          console.log(\"hand to deck error\");\n        }\n\n        this.$bus.$emit(\"hand-to-deck\",dropCard,disable_first_drop);\n        console.log(\"emit dropCard to deck\");\n\n      } else if(place == \"discards\"){\n\n        if(this.card_list[this.lastPlaceId] != this.dragCard || typeof this.card_list[this.lastPlaceId] == \"undefined\"){\n\n          disable_first_drop = 0;\n\n          // ghost probably lie in somewhere else\n\n          switch(data.to.getAttribute(\"id\")){\n            case \"hands\":\n              //this.$bus.$emit(\"cancel-hand-drop\",data.newDraggableIndex);\n\n              // since you change the ghost position before drop to stack\n              // it might cause error since the lastPlaceId is no longer the same\n\n              if(data.to === data.from && this.card_list[data.newDraggableIndex] === dropCard){\n                // implies that the dragged card only changes its position in the original area\n                \n                this.lastPlaceId = data.newDraggableIndex;\n                this.$bus.$emit(\"add-to-discard-again\",dropCard,data.to.getAttribute(\"area-name\"));\n                this.card_list.splice(this.lastPlaceId,1);\n                console.log(\"in change id\");\n              }\n\n              break;\n            case \"mains\":\n              this.$bus.$emit(\"cancel-main-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-discard-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"supports\":\n              this.$bus.$emit(\"cancel-support-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-discard-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"points\":\n              this.$bus.$emit(\"cancel-point-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-discard-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"temp-area\":\n              // special case: it will affect deck-stack area too\n              //this.$bus.$emit(\"cancel-temp-drop\",data.newDraggableIndex);\n\n              // args_1: where, args_2: index\n              this.$bus.$emit(\"cancel-stack-drop\",data.to.getAttribute(\"area-name\"),data.newDraggableIndex);\n\n              // case when temp area is the same with stack\n              // since we use openTemp to refresh the list\n              // need to check whether the area-name is same with lastPlace\n\n              this.$bus.$emit(\"add-to-discard-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n\n              break;\n          }\n\n          console.log(\"hand to discard error\");\n        }\n\n        this.$bus.$emit(\"hand-to-discard\",dropCard,disable_first_drop);\n        console.log(\"emit dropCard to discard\");\n\n      } else if(place == \"ex-decks\") {\n\n        if(this.card_list[this.lastPlaceId] != this.dragCard || typeof this.card_list[this.lastPlaceId] == \"undefined\"){\n\n          disable_first_drop = 0;\n\n          // ghost probably lie in somewhere else\n\n          switch(data.to.getAttribute(\"id\")){\n            case \"hands\":\n              if(data.to === data.from && this.card_list[data.newDraggableIndex] === dropCard){\n                // implies that the dragged card only changes its position in the original area\n                \n                this.lastPlaceId = data.newDraggableIndex;\n                this.$bus.$emit(\"add-to-ex-deck-again\",dropCard,data.to.getAttribute(\"area-name\"));\n                this.card_list.splice(this.lastPlaceId,1);\n                console.log(\"in change id\");\n              }\n              break;\n            case \"mains\":\n              this.$bus.$emit(\"cancel-main-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-ex-deck-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"supports\":\n              this.$bus.$emit(\"cancel-support-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-ex-deck-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"points\":\n              this.$bus.$emit(\"cancel-point-drop\",data.newDraggableIndex);\n              this.$bus.$emit(\"add-to-ex-deck-again\",dropCard,data.to.getAttribute(\"area-name\"));\n              break;\n            case \"temp-area\":\n              // special case: it will affect deck-stack area too\n              //this.$bus.$emit(\"cancel-temp-drop\",data.newDraggableIndex);\n\n              // args_1: where, args_2: index\n              this.$bus.$emit(\"cancel-stack-drop\",data.to.getAttribute(\"area-name\"),data.newDraggableIndex);\n\n              // case when temp area is the same with stack\n              // since we use openTemp to refresh the list\n              // need to check whether the area-name is same with lastPlace\n\n              this.$bus.$emit(\"add-to-ex-deck-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n\n              break;\n          }\n\n          console.log(\"hand to ex-deck error\");\n        }\n\n        this.$bus.$emit(\"hand-to-ex-deck\",dropCard,disable_first_drop);\n        console.log(\"emit dropCard to discard\");\n\n      } else if(place == \"excludeds\") {\n\n        if(this.card_list[this.lastPlaceId] != this.dragCard || typeof this.card_list[this.lastPlaceId] == \"undefined\"){\n\n          disable_first_drop = 0;\n\n          // ghost probably lie in somewhere else\n\n          switch(data.to.getAttribute(\"id\")){\n            case \"hands\":\n              if(data.to === data.from && this.card_list[data.newDraggableIndex] === dropCard){\n                // implies that the dragged card only changes its position in the original area\n                \n                this.lastPlaceId = data.newDraggableIndex;\n                this.$bus.$emit(\"add-to-excluded-again\",dropCard,data.to.getAttribute(\"area-name\"));\n                this.card_list.splice(this.lastPlaceId,1);\n                console.log(\"in change id\");\n              }\n              break;\n            case \"mains\":\n              this.$bus.$emit(\"cancel-main-drop\",data.newDraggableIndex);\n              break;\n            case \"supports\":\n              this.$bus.$emit(\"cancel-support-drop\",data.newDraggableIndex);\n              break;\n            case \"points\":\n              this.$bus.$emit(\"cancel-point-drop\",data.newDraggableIndex);\n              break;\n            case \"temp-area\":\n              // special case: it will affect deck-stack area too\n              //this.$bus.$emit(\"cancel-temp-drop\",data.newDraggableIndex);\n\n              // args_1: where, args_2: index\n              this.$bus.$emit(\"cancel-stack-drop\",data.to.getAttribute(\"area-name\"),data.newDraggableIndex);\n\n              // case when temp area is the same with stack\n              // since we use openTemp to refresh the list\n              // need to check whether the area-name is same with lastPlace\n\n              this.$bus.$emit(\"add-to-excluded-again\",this.dragCard,data.to.getAttribute(\"area-name\"));\n\n              break;\n          }\n\n          console.log(\"hand to excluded error\");\n        }\n\n        this.$bus.$emit(\"hand-to-excluded\",dropCard,disable_first_drop);\n      }\n\n      console.log(\"test\");\n      console.log(place);\n      console.log(this.lastPlace);\n      console.log(data);\n      console.log(data.to);\n      console.log(data.to.getAttribute(\"area-name\"));\n      console.log(data.from);\n    },\n  },\n  computed: {\n    dragOptions() {\n      return {\n        animation: 200,\n        group: \"description\",\n        disabled: false,\n        ghostClass: \"ghost\",\n      };\n    },\n  },\n  mounted() {\n    this.$bus.$on(\"draw-from-deck\",(drawn_card_list) => {\n      this.card_list = this.card_list.concat(drawn_card_list);\n    });\n\n    this.$bus.$on(\"check-top-to-hand\",(card) => {\n      this.card_list.push(card);\n    });\n\n    this.$bus.$on(\"check-bottom-to-hand\",(card) => {\n      this.card_list.push(card);\n    });\n\n    this.$bus.$on(\"able-to-remove\",(where) => {\n      if(where == \"hand\"){\n        console.log(\"lastPlaceId: \" + this.lastPlaceId);\n        this.card_list.splice(this.lastPlaceId,1);\n      }\n    });\n\n    this.$bus.$on(\"cancel-hand-drop\",(id) => {\n      this.card_list.splice(id,1);\n      console.log(\"cancel hand drop: \" + id);\n    });\n  }\n};\n</script>\n\n<style>\n.button {\n  margin-top: 35px;\n}\n.flip-list-move {\n  transition: transform 0.5s;\n}\n.no-move {\n  transition: transform 0s;\n}\n.ghost {\n  opacity: 1;\n  background: #c8ebfb;\n}\n.sortable-chosen {\n  opacity: 1;\n}\n.card-list {\n  min-height: 20px;\n  max-width: 100%;\n}\n.item {\n  cursor: move;\n  float: left;\n  //width: 50%;\n  //height: 300px;\n  background-image: url(\"../PM_Back.jpg\");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  //background-position: center;\n  padding: 0;\n}\n.item i {\n  cursor: pointer;\n}\n.item img {\n  vertical-align: top;\n  max-width: 100%;\n  opacity: 0;\n}\n\n</style>\n"]}]}